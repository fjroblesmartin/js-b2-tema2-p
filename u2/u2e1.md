# Tema 2. Trabajo experto con clases

## Unidad 2. Polimorfismo

## Ejercicio 2.2.1 (Castellano)

Durante el desarrollo de los ejercicios u1e1, u1e2 y u1e3 hemos creado una serie de clases, unas heredando de otras e implementando el método `isValid` que estaba definido en la clase padre `Validator`, pero que se sobreescribía en las clases `EmailValidator` y `NumberValidator`

En este ejercicio vamos a explorar las capacidades del polimorfismo, para lo cual se pide:

### A. Importación de clases

Importa las clases `EmailValidator` y `NumberValidator` de los ejercicios u1e1, u1e2 y u1e3.


### B. Clase `FromValidator`

Crea una clase denominada `FormValidator`


### C. Propiedad privada `#fieldList`

Añade a esa clase una propiedad privada denominada `#fieldList` que será un **array** para almacenar una lista de validadores. El constructor asignará un array vacío a esa propiedad.


### D. Método `addField`

Dota a la clase de un método `addField` que recibe un objeto y comprueba que es de tipo `EmailValidator` o `NumberValidator`, de tal manera que:

1) Si el objeto a insertar NO es de uno de los dos tipos soportados devuelve el **string** de error siguiente:

```
ERROR_TYPE. The object's type to be added is not supported.
```

2) Si ya existe un campo con el mismo nombre que el del elemento a insertar (propiedad `field`), devolverá un **string** (donde [nombre_del_campo] ha de sustituirse por el valor de `field`):

```
ERROR_DUPLICATE. Ya existe un campo con el nombre [nombre_del_campo]
```

3) Si es correcto, lo añade a la `#fieldList` y devuelve `true`.


### E. Método `removeField`

Implementa un método `removeField` que recibe como parámetro `fieldName` y recorre la lista `#fieldList` de manera que elimina TODOS los elementos cuya propiedad `field` sea igual al valor del parámetro `fieldName`.


### F. Método `nFields`

Implementa un método `nFields` que devuelva el número de campos existentes en la `#fieldList`.


### G. Método `validate`

Implementa un método `validate` que recorra todos los elementos incluidos en `#fieldList` de tal manera que:

1) Si no tiene elementos la `#fieldList` devuelve el mensaje:

```
ERROR_EMPTY. El formulario no dispone de campos a validar
```

2) Llame sobre cada elemento a su método `isValid`.

3) En cuanto encuentre un elemento de la lista que NO valide, devuelva el error recibido de dicha validación.

4) Si todos los elementos validan correctamente, devuelva `true`.


### H. Exportación de clase

Exporta la clase `FormValidator` para poder ser usada en otros módulos.


-----


# Tema 2. Treball expert amb classes

## Unitat 2. Polimorfisme

## Exercici 2.2.1 (Català)

Durant el desenvolupament dels exercicis u1e1, u1e2 i u1e3 hem creat una sèrie de classes, unes heretant de les altres i implementant el mètode `isValid` que estava definit a la classe pare `Validator`, però que se sobreescrivia a les classes `EmailValidator` i `NumberValidator`

En aquest exercici explorarem les capacitats del polimorfisme, per a això es demana:

### A. Importació de classes

Importa les classes `EmailValidator` i `NumberValidator` dels exercicis u1e1, u1e2 i u1e3.


### B. Classe `FromValidator`

Crea una classe anomenada `FormValidator`


### C. Propietat privada `#fieldList`

Afegeix a aquesta classe una propietat privada anomenada `#fieldList` que serà un **array** per emmagatzemar una llista de validadors. El constructor assignarà un array buit a aquesta propietat.


### D. Mètode `addField`

Dota a la classe d'un mètode `addField` que rep un objecte i comprova que és de tipus `EmailValidator` o `NumberValidator`, de manera que:

1) Si l'objecte a inserir NO és d'un dels dos tipus suportats retorna l'error **string** següent:

```
ERROR_TYPE. Aquest objecte és un lloc adherit que no està suportat.
```

2) Si ja existeix un camp amb el mateix nom que el de l'element a inserir (propietat `field`), tornarà un **string** (on [nom_del_camp] s'ha de substituir pel valor de `field`):

```
ERROR_DUPLICATE. Ja existeix un camp amb el nom [nom_del_camp]
```

3) Si és correcte, ho afegeix a la `#fieldList` i torna `true`.


### E. Mètode `removeField`

Implementa un mètode `removeField` que rep com a paràmetre `fieldName` i recorre la llista `#fieldList` de manera que elimina TOTS els elements la propietat dels quals `field` sigui igual al valor del paràmetre `fieldName`.


### F. Mètode `nFields`

Implementa un mètode `nFields` que retorni el nombre de camps existents a la `#fieldList`.


### G. Mètode `validate`

Implementa un mètode `validate` que recorri tots els elements inclosos a `#fieldList` de manera que:

1) Si no té elements la `#fieldList` retorna el missatge:

```
ERROR_EMPTY. El formulari no disposa de camps per validar
```

2) Cridi sobre cada element al seu mètode `isValid`.

3) Quan trobi un element de la llista que NO validi, torni l'error rebut d'aquesta validació.

4) Si tots els elements validen correctament, torni `true`.


### H. Exportació de classe

Exporta la classe `FormValidator` per poder ser utilitzada en altres mòduls.
